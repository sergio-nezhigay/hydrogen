{"_id":"@shopify/graphql-codegen","_rev":"3-9b21a8a8360a6ebab604633f42fea54b","name":"@shopify/graphql-codegen","dist-tags":{"latest":"0.1.0"},"versions":{"0.0.1":{"name":"@shopify/graphql-codegen","publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"version":"0.0.1","license":"MIT","type":"module","main":"dist/cjs/index.cjs","module":"dist/esm/index.js","types":"dist/esm/index.d.ts","sideEffects":false,"scripts":{"build":"tsup --clean","dev":"tsup --watch","typecheck":"tsc --noEmit","test":"vitest run --typecheck","test:watch":"vitest --typecheck","test:coverage":"vitest run --typecheck --coverage","format":"prettier --write .","format:check":"prettier --check --ignore-unknown .","codegen":"cd examples/app && npm run codegen","changeset":"changeset"},"exports":{".":{"types":"./dist/esm/index.d.ts","require":"./dist/cjs/index.cjs","import":"./dist/esm/index.js","default":"./dist/esm/index.js"},"./patch":{"types":"./dist/esm/patch.d.ts","require":"./dist/cjs/patch.cjs","import":"./dist/esm/patch.js","default":"./dist/esm/patch.js"},"./package.json":"./package.json"},"repository":{"type":"git","url":"git+https://github.com/shopify/graphql-codegen.git"},"engines":{"node":">=18"},"prettier":"@shopify/prettier-config","devDependencies":{"@changesets/changelog-github":"^0.5.0","@changesets/cli":"^2.27.1","@graphql-codegen/cli":"^5.0.1","@graphql-codegen/plugin-helpers":"^5.0.2","@graphql-tools/utils":"^10.0.13","@shopify/prettier-config":"^1.1.2","@vitest/coverage-v8":"^1.3.1","prettier":"^2.8.8","tsup":"^8.0.2","typescript":"^5.3.3","vitest":"^1.0.4"},"dependencies":{"@graphql-codegen/add":"^5.0.1","@graphql-codegen/typescript":"^4.0.2","@graphql-codegen/typescript-operations":"^4.1.0","type-fest":"^4.5.0"},"peerDependencies":{"graphql":"^0.8.0 || ^0.9.0 || ^0.10.0 || ^0.11.0 || ^0.12.0 || ^0.13.0 || ^14.0.0 || ^15.0.0 || ^16.0.0"},"_id":"@shopify/graphql-codegen@0.0.1","gitHead":"0b7c1934f2e5eb4c6f61b49ee53cc34ea82a6ee0","description":"A codegen plugin and preset for generating TypeScript types from GraphQL queries in a `d.ts` file. It does not require any function wrapper and adds no runtime overhead (0 bytes to the bundle).","bugs":{"url":"https://github.com/shopify/graphql-codegen/issues"},"homepage":"https://github.com/shopify/graphql-codegen#readme","_nodeVersion":"18.19.1","_npmVersion":"10.2.4","dist":{"integrity":"sha512-A6LwdihfS0DzfiwwFcSC4CSG5laTwEyVySqYlf1uvo2G9fuxb79FjhmO6WY0kP3P1/Ktg/w3H1w6muzOv2n3qA==","shasum":"5d1633d148db7fb091b51af50087b55cca8a6ff1","tarball":"https://registry.npmjs.org/@shopify/graphql-codegen/-/graphql-codegen-0.0.1.tgz","fileCount":33,"unpackedSize":78288,"signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEYCIQD3ARL7cFMVX+kkZ0tJDCeWBlI+4VEJAQHuGJzy3ibRSgIhAKjibEOY4niW2iNkdD8cElYBcnN2k7ug2lpWWgGG9Ueg"}]},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"directories":{},"maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"jplhomer","email":"jplhomer@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/graphql-codegen_0.0.1_1709201710728_0.2491684366673277"},"_hasShrinkwrap":false},"0.0.2":{"name":"@shopify/graphql-codegen","publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"version":"0.0.2","license":"MIT","type":"module","main":"dist/cjs/index.cjs","module":"dist/esm/index.js","types":"dist/esm/index.d.ts","sideEffects":false,"scripts":{"build":"tsup --clean","dev":"tsup --watch","typecheck":"tsc --noEmit","test":"vitest run --typecheck","test:watch":"vitest --typecheck","test:coverage":"vitest run --typecheck --coverage","format":"prettier --write .","format:check":"prettier --check --ignore-unknown .","codegen":"cd examples/app && npm run codegen","changeset":"changeset"},"exports":{".":{"types":"./dist/esm/index.d.ts","require":"./dist/cjs/index.cjs","import":"./dist/esm/index.js","default":"./dist/esm/index.js"},"./patch":{"types":"./dist/esm/patch.d.ts","require":"./dist/cjs/patch.cjs","import":"./dist/esm/patch.js","default":"./dist/esm/patch.js"},"./package.json":"./package.json"},"repository":{"type":"git","url":"git+https://github.com/shopify/graphql-codegen.git"},"engines":{"node":">=18"},"prettier":"@shopify/prettier-config","devDependencies":{"@changesets/changelog-github":"^0.5.0","@changesets/cli":"^2.27.1","@graphql-codegen/cli":"^5.0.1","@graphql-codegen/plugin-helpers":"^5.0.2","@graphql-tools/utils":"^10.0.13","@shopify/prettier-config":"^1.1.2","@vitest/coverage-v8":"^1.3.1","prettier":"^2.8.8","tsup":"^8.0.2","typescript":"^5.3.3","vitest":"^1.0.4"},"dependencies":{"@graphql-codegen/add":"^5.0.1","@graphql-codegen/typescript":"^4.0.2","@graphql-codegen/typescript-operations":"^4.1.0","type-fest":"^4.5.0"},"peerDependencies":{"graphql":"^0.8.0 || ^0.9.0 || ^0.10.0 || ^0.11.0 || ^0.12.0 || ^0.13.0 || ^14.0.0 || ^15.0.0 || ^16.0.0"},"_id":"@shopify/graphql-codegen@0.0.2","gitHead":"ff6fec7bd0731af7978b184e431f90d6797e25e2","description":"A codegen plugin and preset for generating TypeScript types from GraphQL queries in a `d.ts` file. It does not require any function wrapper and adds no runtime overhead (0 bytes to the bundle).","bugs":{"url":"https://github.com/shopify/graphql-codegen/issues"},"homepage":"https://github.com/shopify/graphql-codegen#readme","_nodeVersion":"18.20.2","_npmVersion":"10.5.0","dist":{"integrity":"sha512-DScSpsQ+ucv6Y4cujXa5ye9r4lZ6Jl7S+90iyfxEgeTW6HVh/0b9PDcSCJ4T1EONc7kmvCx1dd83tTvCmc7X7A==","shasum":"bcc1b68b3aa43f4ab9d7818ed0d5be73c2256d42","tarball":"https://registry.npmjs.org/@shopify/graphql-codegen/-/graphql-codegen-0.0.2.tgz","fileCount":33,"unpackedSize":78322,"signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEQCIAlyV/fGU8dxUCyiyY1tp8ryi+chdpyddcGhu4UcUROBAiAHPZtp6OlpzvbySsn1UfXmBWZGfYdq6wkTdmUfE4cMGw=="}]},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"directories":{},"maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/graphql-codegen_0.0.2_1715153774828_0.21863768284310203"},"_hasShrinkwrap":false},"0.1.0":{"name":"@shopify/graphql-codegen","publishConfig":{"access":"public","@shopify:registry":"https://registry.npmjs.org"},"version":"0.1.0","license":"MIT","type":"module","main":"dist/cjs/index.cjs","module":"dist/esm/index.js","types":"dist/esm/index.d.ts","sideEffects":false,"scripts":{"build":"tsup --clean","dev":"tsup --watch","typecheck":"tsc --noEmit","test":"vitest run --typecheck","test:watch":"vitest --typecheck","test:coverage":"vitest run --typecheck --coverage","format":"prettier --write .","format:check":"prettier --check --ignore-unknown .","codegen":"cd examples/app && npm run codegen","changeset":"changeset"},"exports":{".":{"types":"./dist/esm/index.d.ts","require":"./dist/cjs/index.cjs","import":"./dist/esm/index.js","default":"./dist/esm/index.js"},"./patch":{"types":"./dist/esm/patch.d.ts","require":"./dist/cjs/patch.cjs","import":"./dist/esm/patch.js","default":"./dist/esm/patch.js"},"./package.json":"./package.json"},"repository":{"type":"git","url":"git+https://github.com/shopify/graphql-codegen.git"},"engines":{"node":">=18"},"prettier":"@shopify/prettier-config","devDependencies":{"@changesets/changelog-github":"^0.5.0","@changesets/cli":"^2.27.1","@graphql-codegen/cli":"^5.0.1","@graphql-codegen/plugin-helpers":"^5.0.2","@graphql-tools/utils":"^10.0.13","@shopify/prettier-config":"^1.1.2","@vitest/coverage-v8":"^1.3.1","prettier":"^2.8.8","tsup":"^8.0.2","typescript":"^5.3.3","vitest":"^1.0.4"},"dependencies":{"@graphql-codegen/add":"^5.0.1","@graphql-codegen/typescript":"^4.0.2","@graphql-codegen/typescript-operations":"^4.1.0","type-fest":"^4.5.0"},"peerDependencies":{"graphql":"^0.8.0 || ^0.9.0 || ^0.10.0 || ^0.11.0 || ^0.12.0 || ^0.13.0 || ^14.0.0 || ^15.0.0 || ^16.0.0"},"_id":"@shopify/graphql-codegen@0.1.0","gitHead":"109495ea039085528152ced483d5b8ecf43cfbc2","description":"A codegen plugin and preset for generating TypeScript types from GraphQL queries in a `d.ts` file. It does not require any function wrapper and adds no runtime overhead (0 bytes to the bundle).","bugs":{"url":"https://github.com/shopify/graphql-codegen/issues"},"homepage":"https://github.com/shopify/graphql-codegen#readme","_nodeVersion":"18.20.2","_npmVersion":"10.5.0","dist":{"integrity":"sha512-G3sSesLj7Czt/J2Bj+XlQ8u4pkfQEt32hsjoS3UGZlf1eAiVw0aBBddp+NI5HqBAi0gM/f7GLRAhG3kktPhZmA==","shasum":"1fc2f02833d31bce9563b95878655aa6fe91d3e1","tarball":"https://registry.npmjs.org/@shopify/graphql-codegen/-/graphql-codegen-0.1.0.tgz","fileCount":33,"unpackedSize":79050,"signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEYCIQDpg1oG88YGQnLR5k1BVuxNshPFJ5O9FJmZ1tNJLltzwgIhAKuO0N2JNxpdV1S147aKHQR/l683KCpEFtouYItr4cM/"}]},"_npmUser":{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},"directories":{},"maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/graphql-codegen_0.1.0_1716780788147_0.1891589894426371"},"_hasShrinkwrap":false}},"time":{"created":"2024-02-29T10:15:10.600Z","0.0.1":"2024-02-29T10:15:10.879Z","modified":"2024-05-27T03:33:08.722Z","0.0.2":"2024-05-08T07:36:14.993Z","0.1.0":"2024-05-27T03:33:08.307Z"},"maintainers":[{"name":"jaimie.rockburn","email":"jaimie.rockburn@shopify.com"},{"name":"blittle","email":"bret.little@gmail.com"},{"name":"shopify-admin","email":"npmjs@shopify.com"},{"name":"maryharte","email":"mary.harte@shopify.com"},{"name":"crisfmb","email":"cristina.borges@shopify.com"},{"name":"pmoloney89","email":"patrick.moloney@shopify.com"},{"name":"netlohan","email":"annette.lohan@shopify.com"},{"name":"st999999","email":"samantha.turri@shopify.com"},{"name":"justin-irl","email":"justin.preisler@shopify.com"},{"name":"megswim","email":"meg.swim@shopify.com"},{"name":"wcandillon","email":"wcandillon@gmail.com"},{"name":"nathanpjf","email":"nathan.pj.ferguson@gmail.com"},{"name":"shopify-dep","email":"npmjs+shopify-dep@shopify.com"},{"name":"goodforonefare","email":"goodforonefare@gmail.com"},{"name":"lemonmade","email":"chrismsauve@gmail.com"},{"name":"vsumner","email":"vsumner@gmail.com"},{"name":"wizardlyhel","email":"helen.lin@shopify.com"},{"name":"antoine.grant","email":"antoine.grant@shopify.com"},{"name":"tsov","email":"tsov@me.com"},{"name":"andyw8-shopify","email":"andy.waite@shopify.com"},{"name":"henrytao","email":"hi@henrytao.me"},{"name":"hannachen","email":"hanhan@gmail.com"},{"name":"vividviolet","email":"trish.ta@gmail.com"},{"name":"bpscott","email":"ben@reload.me.uk"}],"description":"A codegen plugin and preset for generating TypeScript types from GraphQL queries in a `d.ts` file. It does not require any function wrapper and adds no runtime overhead (0 bytes to the bundle).","homepage":"https://github.com/shopify/graphql-codegen#readme","repository":{"type":"git","url":"git+https://github.com/shopify/graphql-codegen.git"},"bugs":{"url":"https://github.com/shopify/graphql-codegen/issues"},"license":"MIT","readme":"# Shopify GraphQL Codegen\n\nA codegen plugin and preset for generating TypeScript types from GraphQL queries in a `d.ts` file. It does not require any function wrapper and adds no runtime overhead (0 bytes to the bundle).\n\n> This package was originally extracted from `@shopify/hydrogen-codegen` to be agnostic of Hydrogen and to be used with any GraphQL client.\n\nThe GraphQL client must use TypeScript interfaces that are extended in the generated `d.ts` file. This package also exports utility types to create GraphQL clients that comply to these interfaces.\n\n```ts\n// `shop` is inferred as {name: string, description: string}\nconst {shop} = await clientQuery(`#graphql\n  query layout {\n    shop {\n      name\n      description\n    }\n  }\n`);\n```\n\n## Benefits\n\n- It does not require wrapping your queries or transforming them to AST with `graphql-tag`. As long as the GraphQL client complies with the TypeScript interfaces, you can simply pass plain strings.\n- It does not add any runtime overhead or size to the production bundle. The generated `d.ts` file is used only for type checking, and optionally for importing types in your code.\n- Generated types can be imported in your components to declare the shape of the data you expect to receive. For example:\n\n  ```tsx\n  import type {LayoutQuery} from './my-api.generated';\n\n  export function Layout({shop}: LayoutQuery) {\n    return (\n      <div>\n        <h1>{shop.name}</h1>\n        <p>{shop.description}</p>\n      </div>\n    );\n  }\n  ```\n\n### Caveats\n\n- This plugin is intended for server-side queries. Since it doesn't rely on AST transformations, it might not be compatible with normalized GraphQL caches in the browser or persisted queries.\n- If you are using string interpolation to build your queries, you will need to use `as const` on the strings to avoid assigning a generic `string` type to the variable. For example:\n\n  ```ts\n  const fragment = `#graphql\n    fragment MyFragment on Shop {\n      name\n      description\n    }\n  `;\n\n  const query = `#graphql\n    ${fragment}\n  \n    query layout {\n      shop {\n        ...MyFragment\n      }\n    }\n  ` as const; // <--- Add `as const` here\n  ```\n\n## Usage\n\n### With GraphQL CLI\n\nYou can use the following example configuration with [GraphQL CLI](https://www.graphql-cli.com/introduction/):\n\n```ts\n// <root>/codegen.ts\n\nimport type {CodegenConfig} from '@graphql-codegen/cli';\nimport {pluckConfig, preset} from '@shopify/graphql-codegen';\n\nexport default {\n  overwrite: true,\n  pluckConfig,\n  generates: {\n    'my-api.generated.d.ts': {\n      preset,\n      schema: './path/to/my-api-schema.json',\n      documents: ['./src/graphql/my-api/*.{ts,tsx,js,jsx}'],\n      presetConfig: {\n        // Generate the line `import type * as MyAPI from 'path/to/my-api-types';`.\n        // If you don't have generated types for your API beforehand,\n        // omit this parameter to generate the types inline.\n        importTypes: {\n          namespace: 'MyAPI',\n          from: 'path/to/my-api-types',\n        },\n\n        // Skip the __typename property from generated types:\n        skipTypenameInOperations: true,\n\n        // Add a custom interface extension to connect\n        // the generated types to the GraphQL client:\n        interfaceExtension: ({queryType, mutationType}) => `\n          declare module 'my-api-client' {\n            interface MyAPIQueries extends ${queryType} {}\n            interface MyAPIMutations extends ${mutationType} {}\n          }\n        `,\n      },\n    },\n  },\n} as CodegenConfig;\n```\n\n> [!TIP]\n> To use enums instead of types, change the generated file extension to `.ts` instead of `.d.ts`.\n\nThen, include queries in your app that match the given schema and documents paths. For example, for a query `layout` like the one in the example above, the generated `d.ts` file will look like this:\n\n```ts\n// my-api.generated.d.ts\nimport type * as MyAPI from 'path/to/my-api-types';\n\nexport type LayoutQueryVariables = MyAPI.Exact<{[key: string]: never}>;\n\nexport type LayoutQuery = {\n  shop: Pick<MyAPI.Shop, 'name' | 'description'>;\n};\n\ninterface GeneratedQueryTypes {\n  '#graphql\\n  query layout {\\n    shop {\\n      name\\n      description\\n    }\\n  }\\n': {\n    return: LayoutQuery;\n    variables: LayoutQueryVariables;\n  };\n}\n\ninterface GeneratedMutationTypes {}\n\ndeclare module 'my-api-client' {\n  interface MyAPIQueries extends GeneratedQueryTypes {}\n  interface MyAPIMutations extends GeneratedMutationTypes {}\n}\n```\n\nTherefore, when passing the query to the GraphQL client, TypeScript will infer the type of the response and the variables parameter.\n\n### Making GraphQL clients\n\nTo make a GraphQL client that complies with the generated types, you can use the following utility types:\n\n```ts\n// my-api-client.ts\nimport type {\n  ClientReturn,\n  ClientVariablesInRestParams,\n} from '@shopify/graphql-codegen';\n\n// Empty interface to be extended with the generated queries and mutations in user projects.\nexport interface MyAPIQueries {}\n\nexport async function clientQuery<\n  OverrideReturnType extends any = never,\n  RawGqlString extends string = string,\n>(\n  query: RawGqlString,\n  ...params: ClientVariablesInRestParams<MyAPIQueries, RawGqlString>\n): Promise<ClientReturn<MyAPIQueries, RawGqlString, OverrideReturnType>> {\n  // The 'params' and 'params.variables' are optional\n  // if the query has no variables, required otherwise.\n  const {variables} = params[0] ?? {};\n\n  // Client implementation (this could be forwarding the query to Apollo, urql, useQuery, etc.)\n  const response = await fetch('https://my-api.com/graphql', {\n    method: 'POST',\n    headers: {'Content-Type': 'application/json'},\n    body: JSON.stringify({query, variables}),\n  });\n\n  return response.json();\n}\n```\n\nThis allows to use the `clientQuery` function with any query string and TypeScript will infer the type of the response and the variables parameter. It's also possible to override the return type of the query by passing a type argument to `clientQuery`:\n\n```ts\n// Inferred type from the query:\ndata = await clientQuery('query layout {shop {name}}');\n\n// Overwritten return type:\ndata = await clientQuery<{shop: {name: string}}>('...');\n```\n\nThe type utilities accept other optional type params:\n\n```ts\nClientVariablesInRestParams<\n  // Interface extended with queries in the user project\n  MyAPIQueries,\n  // The raw query string that comes from the user\n  RawGqlString,\n  // -- Optional:\n  // Additional properties to the params object.\n  // E.g. `{cache: Cache; debug?: boolean}`\n  AdditionalParamOptions,\n  // Query variables that the client automatically injects.\n  // E.g. `'locale' | 'currency'`\n  AutoInjectedVariables\n>;\n```\n\nTo see a full example of a GraphQL client using these types, check the [Hydrogen's Storefront client](https://github.com/Shopify/hydrogen/blob/8030ac3956e48bceb43953b16fa30e7f94f5a942/packages/hydrogen/src/storefront.ts#L112-L126).\n\n### Wrapping this preset\n\nThis preset can be wrapped in a package that generates types for a specific API and adds default values to the preset. For example, an all-in-one solution for an \"Example API\" would be a package that provides:\n\n- The schema file for the Example API (in JSON or any format that GraphQL Codegen supports).\n- Optionally, pre-generated TypeScript types for the given schema. It's also possible to let this preset generate the types inline by omitting the `importTypes` option, or use the standalone [`@graphql-codegen/typescript` plugin](https://the-guild.dev/graphql/codegen/plugins/typescript/typescript) to generate the types in a separate file.\n- An implementation of a GraphQL client that complies with the generated types.\n- A custom preset that wraps `@shopify/graphql-codegen`'s preset and provides default values like in the following example.\n\n```ts\n// example-api/preset.ts\n\nimport {preset as internalPreset} from '@shopify/graphql-codegen';\nexport {pluckConfig} from '@shopify/graphql-codegen';\n\n// Export a custom preset that adds default values to @shopify/graphql-codegen:\nexport const preset = {\n  buildGeneratesSection: (options) => {\n    return internalPreset.buildGeneratesSection({\n      ...options,\n      // Known schema path from the example-api package:\n      schema: 'example-api/schema.json'\n      presetConfig: {\n        importTypes: {\n          namespace: 'ExampleAPI',\n          // Known types path from the example-api package:\n          from: 'example-api/types',\n        },\n        interfaceExtension: ({queryType, mutationType}) => `\n          declare module 'example-api/client' {\n            interface AdminQueries extends ${queryType} {}\n            interface AdminMutations extends ${mutationType} {}\n          }`,\n      },\n    });\n  },\n};\n```\n\nWhen the user imports this new preset, they don't need to specify the schema and types paths:\n\n```ts\n// <root>/codegen.ts\n\n// This uses @shopify/graphql-codegen internally:\nimport {preset, pluckConfig} from 'example-api/preset';\n\nexport default {\n  overwrite: true,\n  pluckConfig,\n  generates: {\n    'example-api.generated.d.ts': {\n      preset,\n      documents: ['**/*.ts'],\n    },\n  },\n};\n```\n","readmeFilename":"README.md"}